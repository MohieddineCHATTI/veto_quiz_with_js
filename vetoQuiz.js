var easy_qst=[
    {
        qst: "??? ????? ???? ??????",
        img_src:"qst_img.jpg",
        opt1: "30",
        opt2: "26",
        opt3: "32",
        opt4: "36",
        correct_answers: ["32"]
    },
    {
        qst: "??? ????? ????? ??????",
        img_src:"qst_img.jpg",
        opt1: "40",
        opt2: "42",
        opt3: "41",
        opt4: "39",
        correct_answers: ["42"]
    },
    {
        qst: "??? ????? ???? ?????",
        img_src:"qst_img.jpg",
        opt1: "32",
        opt2: "12",
        opt3: "24",
        opt4: "26",
        correct_answers: ["26"]
    },
    {
        qst: "??? ????? ????? ???????",
        img_src:"qst_img.jpg",
        opt1: "32",
        opt2: "30",
        opt3: "28",
        opt4: "36",
        correct_answers: ["30"]
    },
    {
        qst: "??? ??????? ?? ?? ??? ?????",
        img_src:"qst_img.jpg",
        opt1: "8",
        opt2: "16",
        opt3: "18",
        opt4: "10",
        correct_answers: ["16"]
    },
    {
        qst: "??? ??????? ?? ?? ??? ????",
        img_src:"qst_img.jpg",
        opt1: "17",
        opt2: "12",
        opt3: "10",
        opt4: "8",
        correct_answers: ["10"]
    },
    {
        qst: "??? ??????? ?? ?? ??? ????",
        img_src:"qst_img.jpg",
        opt1: "12",
        opt2: "16",
        opt3: "8",
        opt4: "6",
        correct_answers: ["12"]
    },
    {
        qst: "??? ??????? ?? ?? ?? ????",
        img_src:"qst_img.jpg",
        opt1: "6",
        opt2: "4",
        opt3: "8",
        opt4: "10",
        correct_answers: ["4"]
    },
    {
        qst: "???? ????? ??? ?????",
        img_src:"qst_img.jpg",
        opt1: "69?72",
        opt2: "64?67",
        opt3: "60",
        opt4: "57",
        correct_answers: ["64?67"]
    },
    {
        qst: "???? ????? ??? ??????",
        img_src:"qst_img.jpg",
        opt1: "60",
        opt2: "66",
        opt3: "58?68",
        opt4: "54?56",
        correct_answers: ["58?68"]
    }
    
    ];

var medium_qst=[
    {
        qst: "what s the capital city of Algeria ?",
        img_src:"",
        opt1: "algeirs",
        opt2: "biskra",
        opt3: "feliache",
        opt4: "cabinet vet dhal3a",
        correct_answers: ["algeirs"]
    },
    {
        qst: "numbers that are lowwer than 10 ?",
        img_src:"",
        opt1: "5",
        opt2: "7",
        opt3: "13",
        opt4: "100",
        correct_answers: ["5", "7"]
    },
    {
        qst: "the day after saturday ?",
        img_src:"",
        opt1: "friday",
        opt2: "wednesday",
        opt3: "monday",
        opt4: "none of the above",
        correct_answers: ["none of the above"]
    },
    {
        qst: "what s the best country in the world ?",
        img_src:"",
        opt1: "algeria",
        opt2: "togo",
        opt3: "us",
        opt4: "germany",
        correct_answers: ["algeria"]
    },
    {
        qst: "numbers that are lowwer than 10 ?",
        img_src:"",
        opt1: "5",
        opt2: "7",
        opt3: "13",
        opt4: "100",
        correct_answers: ["5", "7"]
    },
    {
        qst: "the day after saturday ?",
        img_src:"",
        opt1: "friday",
        opt2: "wednesday",
        opt3: "monday",
        opt4: "none of the above",
        correct_answers: ["none of the above"]
    },
    {
        qst: "what s the best country in the world ?",
        img_src:"",
        opt1: "algeria",
        opt2: "togo",
        opt3: "us",
        opt4: "germany",
        correct_answers: ["algeria"]
    },
    {
        qst: "numbers that are lowwer than 10 ?",
        img_src:"",
        opt1: "5",
        opt2: "7",
        opt3: "13",
        opt4: "100",
        correct_answers: ["5", "7"]
    },
    {
        qst: "the day after saturday ?",
        img_src:"",
        opt1: "friday",
        opt2: "wednesday",
        opt3: "monday",
        opt4: "none of the above",
        correct_answers: ["none of the above"]
    },
    {
        qst: "what s the best country in the world ?",
        img_src:"",
        opt1: "algeria",
        opt2: "togo",
        opt3: "us",
        opt4: "germany",
        correct_answers: ["algeria"]
    }
];


var hard_qst=[
    {
        qst: "what s the capital city of Algeria ?",
        img_src:"",
        opt1: "algeirs",
        opt2: "biskra",
        opt3: "feliache",
        opt4: "cabinet vet dhal3a",
        correct_answers: ["algeirs"]
    },
    {
        qst: "numbers that are lowwer than 10 ?",
        img_src:"",
        opt1: "5",
        opt2: "7",
        opt3: "13",
        opt4: "100",
        correct_answers: ["5", "7"]
    },
    {
        qst: "the day after saturday ?",
        img_src:"",
        opt1: "friday",
        opt2: "wednesday",
        opt3: "monday",
        opt4: "none of the above",
        correct_answers: ["none of the above"]
    },
    {
        qst: "what s the best country in the world ?",
        img_src:"",
        opt1: "algeria",
        opt2: "togo",
        opt3: "us",
        opt4: "germany",
        correct_answers: ["algeria"]
    },
    {
        qst: "numbers that are lowwer than 10 ?",
        img_src:"",
        opt1: "5",
        opt2: "7",
        opt3: "13",
        opt4: "100",
        correct_answers: ["5", "7"]
    },
    {
        qst: "the day after saturday ?",
        img_src:"",
        opt1: "friday",
        opt2: "wednesday",
        opt3: "monday",
        opt4: "none of the above",
        correct_answers: ["none of the above"]
    },
    {
        qst: "what s the best country in the world ?",
        img_src:"",
        opt1: "algeria",
        opt2: "togo",
        opt3: "us",
        opt4: "germany",
        correct_answers: ["algeria"]
    },
    {
        qst: "numbers that are lowwer than 10 ?",
        img_src:"",
        opt1: "5",
        opt2: "7",
        opt3: "13",
        opt4: "100",
        correct_answers: ["5", "7"]
    },
    {
        qst: "the day after saturday ?",
        img_src:"",
        opt1: "friday",
        opt2: "wednesday",
        opt3: "monday",
        opt4: "none of the above",
        correct_answers: ["none of the above"]
    },
    {
        qst: "what s the best country in the world ?",
        img_src:"",
        opt1: "algeria",
        opt2: "togo",
        opt3: "us",
        opt4: "germany",
        correct_answers: ["algeria"]
    }
];

var all_qst=[];
var easy_index=[];
var medium_index=[];
var hard_index=[];
var index=0;
var j;
var qst_num;

function rndmqst(){
    index=0;
    easy_index=[];
    medium_index=[];
    hard_index=[];
   do {
    
    
    if (index<3){
        
     j = Math.floor(Math.random()*easy_qst.length);
        
    if (!easy_index.includes(j)){
        all_qst.push(easy_qst[j]);
        easy_index.push(j);
        index++;
    }
    }

    if (index>2 && index<9){
        
     j = Math.floor(Math.random()*medium_qst.length);
        
    if (!medium_index.includes(j)){
        all_qst.push(medium_qst[j]);
        medium_index.push(j);
        index++;
    }
    }

    if (index>8){
        
     j = Math.floor(Math.random()*hard_qst.length);
        
    if (!hard_index.includes(j)){
        all_qst.push(hard_qst[j]);
        hard_index.push(j);
        index++;
    }
    }

    
    } while (index<11);


console.log(all_qst);
 
}
    
var i=0;
var checked=[];
var count;
var t;
var score = 0;
var correct_ans=0;
var wrong_ans=0;
var times_up ;
var optColor;
qst_num=0;
// start function
function strt(){
    all_qst=[];
    rndmqst();
    document.getElementById("welcome").style.display = "none";
    document.getElementById("quiz_container").style.display = "block";
    setTimeout(function(){
      next_qst();     
    },1000);
   
}
// next question function
function next_qst(){
checked=[];
times_up = false;
optColor=document.getElementById("opt1");
optColor.style.background='linear-gradient(rgba(95, 158, 160,0.8),rgba(39, 107, 109,0.8))';
optColor=document.getElementById("opt2");
optColor.style.background='linear-gradient(rgba(95, 158, 160,0.8),rgba(39, 107, 109,0.8))';
optColor=document.getElementById("opt3");
optColor.style.background='linear-gradient(rgba(95, 158, 160,0.8),rgba(39, 107, 109,0.8))';
optColor=document.getElementById("opt4");
optColor.style.background='linear-gradient(rgba(95, 158, 160,0.8),rgba(39, 107, 109,0.8))';
document.getElementById("notification").style.background='linear-gradient(to right,rgba(0,0,0,0.5),rgba(66, 244, 244,0.7),rgba(0,0,0,0.5))';
document.getElementById("notification").style.color="yellow";
document.getElementById("notification").innerHTML="*_*";
document.getElementById("opt1").style.pointerEvents="auto";
document.getElementById("opt2").style.pointerEvents="auto";
document.getElementById("opt3").style.pointerEvents="auto";
document.getElementById("opt4").style.pointerEvents="auto";
if (i<all_qst.length){
qst_num++;
document.getElementById("qst_num").innerHTML=qst_num+"/20";
console.log("this is question number "+qst_num);
console.log('app is workin working');
document.getElementById("qst").innerHTML=(all_qst[i].qst);
document.getElementById("qst_img").src=(all_qst[i].img_src);
document.getElementById("opt1").innerHTML=(all_qst[i].opt1);
document.getElementById("opt2").innerHTML=(all_qst[i].opt2);
document.getElementById("opt3").innerHTML=(all_qst[i].opt3);
document.getElementById("opt4").innerHTML=(all_qst[i].opt4);
i++; 
} 
switch (true){
    case (qst_num<4):
        t=15;
        break;
    case (4<=qst_num && qst_num<9):
        t=20;
        break;
    case (qst_num>=9):
        t=25;
        break;
        default :
        t=23;
        break;
        
               }
     
count = setInterval(function timing(){
if (t>0){
t--;
document.getElementById("time").innerHTML="- "+t+" -";
console.log("t is "+t);
} else {
    document.getElementById("time").innerHTML="time's up";
    console.log("time's up");
    clearInterval(count);
    times_up = true;
    ans_check();
}

},1000) ; 
    // enable answer button and disable next qst button
    document.getElementById("next_qst").style.display="none";
    document.getElementById("answer_now").style.display="block";
        
    };
// what happens when user checks an option
$("[id^=opt]").click(function(){
if (!checked.includes($(this).text())){
    checked.push($(this).text());
    optColor=document.getElementById($(this).attr("id"));
    optColor.style.background='linear-gradient(to bottom , rgba(95, 158, 160,0.8),yellow,rgba(39, 107, 109,0.8))';
} else {
    checked.splice(checked.indexOf($(this).text()),1);
    optColor=document.getElementById($(this).attr("id"));
    optColor.style.background='linear-gradient(rgba(95, 158, 160,0.8),rgba(39, 107, 109,0.8))';
}
 console.log(checked);
});


function ans_check(){
if (times_up){
    checking = false;
    console.log(checked.sort());
    console.log(all_qst[i-1].correct_answers.sort());
    console.log(checking);
    wrong_ans++;
    document.getElementById("notification").style.background='linear-gradient(to right,rgba(0,0,0,0.5),rgba(255,0,0,0.7),rgba(0,0,0,0.5))';
    document.getElementById("notification").style.color="black";
   document.getElementById("notification").innerHTML="Wrong";
    document.getElementById("answer_now").style.display= "none";
    document.getElementById("next_qst").style.display= "block";
    document.getElementById("opt1").style.pointerEvents="none";
    document.getElementById("opt2").style.pointerEvents="none";
    document.getElementById("opt3").style.pointerEvents="none";
    document.getElementById("opt4").style.pointerEvents="none";
    /*document.getElementById("next_qst").removeAttribute("disabled");*/
}

else if (!checked.length<1){
clearInterval(count);
console.log(t);
console.log(checked.sort());
console.log(all_qst[i-1].correct_answers.sort());
document.getElementById("opt1").style.pointerEvents="none";
document.getElementById("opt2").style.pointerEvents="none";
document.getElementById("opt3").style.pointerEvents="none";
document.getElementById("opt4").style.pointerEvents="none";
    if (checked.length==all_qst[i-1].correct_answers.length){
    var k=0;
    checking = true;
    do{
        if (checked.sort()[k]!=all_qst[i-1].correct_answers.sort()[k]){
        checking= false;
        }
        k++
    } while (checking==true && k<checked.length)
    }
        else{
            checking=false;
        }
    console.log(checking);
        if(checking==true){
           document.getElementById("notification").style.background='linear-gradient(to right,rgba(0,0,0,0.5),rgba(0,255,0,0.7),rgba(0,0,0,0.5))';
            document.getElementById("notification").style.color="black"; document.getElementById("notification").innerHTML="Correct";
            score+=t;
        correct_ans++;
        } else { 
        wrong_ans++;
            document.getElementById("notification").style.background='linear-gradient(to right,rgba(0,0,0,0.5),rgba(255,0,0,0.7),rgba(0,0,0,0.5))';
            document.getElementById("notification").style.color="black"; document.getElementById("notification").innerHTML="Wrong";
        }
       /// disable answer button and enable next qst button 
    document.getElementById("answer_now").style.display= "none";
    document.getElementById("next_qst").style.display= "block";
    }else {
        document.getElementById("notification").innerHTML="please answer the question first";
        setTimeout(function(){
            document.getElementById("notification").innerHTML="*_*";
        },3000);
         
    }
    document.getElementById("score").innerHTML=("score: "+score);    
    console.log("your score is "+score);
        console.log("correct answers "+correct_ans);
        console.log("wrong answers "+wrong_ans);
    
    
    // check the end of the quiz
    if (qst_num==11){
    document.getElementById("quiz_container").style.display="none";
    document.getElementById("finish_alert").style.display="block";
    alert('the game has finished , your final score is  '+ score + ", you have "+correct_ans+" correct answers, and "+wrong_ans+" wrong answers"  );    
    }
    
    
}
    
function openFbPopUp() {
    var fburl = 'baytarapp.com';
    var fbimgurl = '__';
    var fbtitle = 'testing';
    var fbsummary = "_testing testing testing";
    var sharerURL = "http://www.facebook.com/sharer/sharer.php?s=100&p[url]=" + encodeURI(fburl) + "&p[images][0]=" + encodeURI(fbimgurl) + "&p[title]=" + encodeURI(fbtitle) + "&p[summary]=" + encodeURI(fbsummary);
    window.open(
      sharerURL,
      'facebook-share-dialog', 
      'width=626,height=436'); 
    return  false;
}
   
function play_again(){
    qst_num = 0;
    i=0;
    clearInterval(count);
    checked=[];
    score = 0;
    correct_ans=0;
    wrong_ans=0;
    qst_num=0;
    strt();
}


///
///
///
///
///
// pub area

var anum = 1;
function slidingAnim(){
    if (anum<4){
        anum=anum+1;
    }
    else {
        anum=1;
    }
   if (anum!=1){ var prv_anim= "anim"+(anum-1);} else { var prv_anim= "anim4"}
   var act_anim = "anim"+anum;
    console.log(anum);
    console.log(act_anim);
    console.log(prv_anim);
    document.getElementById(prv_anim).setAttribute("class","hide");
    document.getElementById(act_anim).removeAttribute("class","hide");
}
setInterval(slidingAnim, 4000);

var pnum = 1;
function slidingProd(){
    if (pnum<4){
        pnum=pnum+1;
    }
    else {
        pnum=1;
    }
   if (pnum!=1){ var prv_prod= "prod"+(pnum-1);} else { var prv_prod= "prod4"}
   var act_prod = "prod"+pnum;
    console.log(pnum);
    console.log(act_prod);
    console.log(prv_prod);
    document.getElementById(prv_prod).setAttribute("class","hide");
    document.getElementById(act_prod).removeAttribute("class","hide");
}
setInterval(slidingProd, 5000);
    

var onum = 1;
function slidingOther(){
    if (onum<4){
        onum=onum+1;
    }
    else {
        onum=1;
    }
   if (onum!=1){ var prv_other= "other"+(onum-1);} else { var prv_other= "other4"}
   var act_other = "other"+onum;
    console.log(onum);
    console.log(act_other);
    console.log(prv_other);
    document.getElementById(prv_other).setAttribute("class","hide");
    document.getElementById(act_other).removeAttribute("class","hide");
}
setInterval(slidingOther, 7000);





